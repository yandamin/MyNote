Q：企业版迁移数据都需要迁移哪些数据？都有哪些迁移方法？  
迁移的数据：1、数据库导出的sql文件数据；2、上传的附件；3、license授权文件。

#####  方式一（导出sql数据与附件数据迁移）
```
1.  搭建一个新的相同版本的禅道企业版，保证网页可以正常登录操作；
2.  将原禅道数据库中数据导出sql文件，并导入到新的禅道数据库中；
3.  复制禅道附件数据（zentao(pms/ep/pro)/www/data/upload/1），将其拷贝到新禅道的相同路径下；
4.  Linux系统需要注意上传附件的权限问题，递归给予777读写执行权限；
5.  授权文件迁移
5.1 授权文件需要变更
5.1.1 联系技术支持同事重新制作在新的授权文件，变更授权需要计算变更次数；
5.2 试用授权文件不需要变更，可以直接使用
5.2.1 迁移方式1：拷贝原禅道授权文件（zentao(pms/ep/pro)/config/license）复制到新禅道的相同路径下；
5.2.2 迁移方式2：管理员账号登录新禅道，后台-系统-授权-更换授权，上传之前打包的授权文件即可；
```

#####  方式二（使用备份文件迁移）
```
1.  搭建一个新的相同版本的禅道企业版，保证网页可以正常登录操作；
2.  备份原禅道文件数据（后台-数据-备份-开始备份）将zentao(pms/ep/pro)/tmp/backup 下的备份数据上传到新禅道的同级目录下，目录不全可以手动补全下；
3.  如新禅道是部署在linux 中的，需要递归授予备份文件 777 权限：chmod -R 777 zentao(pms/ep/pro)/tmp/backup
4.  网页登录新禅道，在后台-数据-备份中，执行还原操作即可；
5.  授权文件迁移
授权文件需要变更：联系技术支持同事重新直戳在新的授权文件，变更授权需要计算变更次数；
试用授权文件不需要变更，可以直接使用
迁移方式1：拷贝原禅道授权文件（zentao(pms/ep/pro)/config/license）复制到新禅道的相同路径下；
迁移方式2：管理员账号登录新禅道，后台-系统-授权-更换授权，上传之前打包的授权文件即可；
```

#####  方式三（直接复制禅道文件）
```
1.  前提条件：使用一键安装包部署的禅道软件，且不可以跨操作系统平台复制（也就是windows一键安装包只能从windows系统拷贝到windows系统，不能拷贝到linux系统；linux一键安装包亦同）；
2.  停止禅道系统服务；
3.  windows 复制 xampp 拷贝到新的 windows 服务器环境下；
4.  linux 复制 /opt/zbox 文件拷贝到新的linux服务器/opt目录下，并递归给 /opt/zbox/app 目录 777权限(/opt/zbox/etc/mysql/my.cnf 需要是644权限)。注：此种复制能不能尽量不用，因为操作后会有文件属主 所属分组的问题，777后也会有一定的安全隐患。
5.  授权文件迁移
5.1 授权文件需要变更
5.1.1 联系技术支持同事重新直戳在新的授权文件，变更授权需要计算变更次数；
5.2 试用授权文件不需要变更，可以直接使用
5.2.1 迁移方式1：拷贝原禅道授权文件（zentao(pms/ep/pro)/config/license）复制到新禅道的相同路径下；
5.2.2 迁移方式2：管理员账号登录新禅道，后台-系统-授权-更换授权，上传之前打包的授权文件即可；
```

#####  方式四（拷贝mysql物理文件与禅道附件数据迁移）
```
使用场景：mysql导出文件过大，服务器上传sql文件对大小有限制时
1.  前提条件：两套禅道软件属于相同版本，新禅道网页可以正常登录操作；
2.  停止禅道系统服务；
3.  mysql物理文件迁移（可以跨系统迁移）
3.1找到指定系统的mysql物理文件
windows一键安装包mysql物理文件位置：xampp/mysql/data/zentao(pro/ep)；
linux一键安装包mysql物理文件位置：/opt/zbox/data/mysql/zentao(pro/ep)；
3.2 复制物理文件拷贝到新禅道的mysql物理文件下（可跨系统）；
3.3 新禅道系统为windows，先删除自带的mysql物理文件，再复制原禅道物理文件到该文件路径下；
3.4 新禅道系统为linux
3.4.1 因linux对文件有权限要求，需要先记下新部署禅道的mysql物理文件所属用户，用户组，以及权限；
3.4.2 删除新部署禅道的mysql物理文件；
3.4.3 复制原禅道mysql物理文件到新系统mysql物理文件路径下；
3.4.4 将复制过来的mysql物理文件权限还原到新部署时mysql的权限（所属用户，用户组，权限都要还原）；
4.  复制禅道上传的附件数据（zentao(pro/ep/pms)\www\data\upload\1 ），将其拷贝到新禅道的相同路径下；
5.  Linux系统需要注意上传附件的权限问题，递归给予777读写执行权限；
6.  授权文件迁移
6.1 授权文件需要变更
6.1.1 联系商务同事重新打包授权文件，授权只允许变更两次；
6.2 试用授权文件不需要变更，可以直接使用
6.2.1 迁移方式1：拷贝原禅道授权文件（zentao(pms/ep/pro)/config/license）复制到新禅道的相同路径下；
6.2.2 迁移方式2：管理员账号登录新禅道，后台-系统-授权-更换授权，上传之前打包的授权文件即可；
```



