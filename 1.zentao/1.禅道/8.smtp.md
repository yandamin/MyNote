**smtp发信文档：** https://www.zentao.net/book/zentaopmshelp/96.html



```
smtp错误, 登陆失败
请检查您设置的用户名密码是否正确. 
1. 看下邮箱发信配置页面, 邮箱账号密码是否正确. 
```

```
SMTP错误:无法连接到SMTP主机,请确认禅道机器:
1,能ping通smtp服务器。如果不能ping通,请查看网络状态,或查看域名解析是否正确,或联系网管；
2.使用telnet命令能够连接到smtp的发信端口
3,如果上述步骤都是通的, windows请检查防火墙和杀毒软件设置, linux请关闭selnux或者执行"setsebool httpd can sendmail true"允许apache可以发信。
SMTP-> ERROR: Failed to connect to server: php network getaddresses: getaddrinfo failed: Noaddress associated with hostname (0)
*************************************************************************************************************************************
1. 查看dns配置文件是否有读权限，ls -la /etc/resolv.conf权限，没有的话为 /etc/resolv.conf 增加读取权限。
2. dns服务器修改下试试(编辑 /etc/resolv.conf 第一行添加 nameserver 223.5.5.5 也可以用8.8.8.8)。
1. DNS 223.5.5.5是由阿里巴巴提供的免费DNS服务器的IP地址；
2. DNS 8.8.8.8是由Google提供的免费DNS服务器的IP地址。
3. 发信配置直接填写smtp服务器的ip 或者 修改服务器的/etc/hosts 直接解析邮箱服务器。
4. 是否是自己编译的php程序，用非自己编译的php程序测试是否可以正常联网。（系统可能有严格的安全限制）
5. 是否在chroot里面。
```

```
SMTP错误:收件人地址错误,或检查SMTP服务设置,是否允许发送
****************************************************
收信人地址错误：该收信人是否离职
```



```
邮件不发送给指定人员
1. 后台-通知-邮件 选择异步发信, 然后重新触发一下发信动作, 5分钟后看后台-通知-邮件-邮件列表中是否有记录和结果。
2. 禅道不会给当前操作者发信，因为当前的操作自己都清楚的，如果再发邮件，会造成过多的重复邮件。
3. 该用户必须设置了邮箱才能发信。
```



```
发信通知范围
1. Bug：指派给+抄送 添加，编辑，指派，确认BUG，解决，激活，关闭，导入到项目。
2. 需求：指派给+抄送 添加，编辑，变更，激活，评审，关闭，更改计划，更改分支，更改阶段，指派。
3. 任务：指派给+抄送 添加，编辑，指派，开始，完成，激活，关闭，取消，重启。
4. 测试单：负责人+抄送 创建，编辑。
5. 需求关联到项目后需求变动会给所有项目成员发邮件。
6. 项目版本提交测试给测试负责人发邮件。
```



```
qq邮箱授权码：https://service.mail.qq.com/cgi-bin/help?subtype=1&&id=28&&no=1001256
qq企业邮箱授权码：https://jingyan.baidu.com/article/6181c3e0b12548152ef153db.html
```

没有异步发信：后台计划任务没有开启, 开启计划任务,启动异步发信。

```
测试发信成功，发信没法出去
这种一般是邮箱服务商那儿有发信频率限制，如果贵公司发信频率较高，建议使用付费邮箱或自己搭建smtp邮箱服务器。
异步是把邮件存到数据库，每五分钟有计划任务触发发送一次，发信频率比较高的话会触发了邮箱限制，可以暂时先使用同步发信看下。
```



![MjS03j.png](https://s2.ax1x.com/2019/11/25/MjS03j.png)

![MjSBgs.png](https://s2.ax1x.com/2019/11/25/MjSBgs.png)

![MjSUUS.png](https://s2.ax1x.com/2019/11/25/MjSUUS.png)



![MjSa4g.png](https://s2.ax1x.com/2019/11/25/MjSa4g.png)





